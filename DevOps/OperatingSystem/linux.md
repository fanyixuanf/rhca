# Linux

### å‘½ä»¤

#### æ–‡ä»¶ç›®å½•ç›¸å…³

- `pwd` æŸ¥çœ‹å½“å‰path
- `ls [options]... [file]...` æ˜¾ç¤ºå½“å‰ç›®å½•å†…å®¹
  - `-a` æ˜¾ç¤ºéšè—æ–‡ä»¶,`-l` åˆ—è¡¨, `-r` é€†åº,`-R`é€’å½’
- `cd`
- `mkdir` åˆ›å»ºç›®å½•
  - `-p` åˆ›å»ºå¤šçº§ç›®å½•
- `touch` åˆ›å»ºæ–‡ä»¶
- `rm -rf `åˆ é™¤æ–‡ä»¶ï¼Œç›®å½•
- `cp` copyç›®å½•ï¼Œæ–‡ä»¶ `-r` å¼ºåˆ¶æ€§
- `mv` å‰ªåˆ‡ç›®å½•ï¼Œæ–‡ä»¶
- `cat -n a.txt | more` åªè¯»æŸ¥çœ‹æ–‡ä»¶ï¼Œ-nå¸¦è¡Œå·ï¼Œmoreæ˜¾ç¤ºåˆ†é¡µï¼Œç©ºæ ¼ç¿»é¡µ
- `more a.txt`å…¨å±æŒ‰é¡µæ˜¾ç¤ºï¼Œç©ºæ ¼ç¿»é¡µï¼Œctrl+b â†‘ï¼Œctrl+f â†“
- `less a.txt` é€‚ç”¨äºå¤§æ–‡ä»¶
- `head -n a.txt` æŸ¥çœ‹å‰nè¡Œï¼Œé»˜è®¤10è¡Œ
- `tail -n a.txt` æŸ¥çœ‹ånè¡Œï¼Œ é»˜è®¤10è¡Œ
  - `tail -f a.txt` å®æ—¶ç›‘æ§æ–‡ä»¶å˜åŒ–
- `history ` æ˜¾ç¤ºæ‰€æœ‰å‘½ä»¤

#### è§£å‹ç¼©

- `tar`

  - `-c`: å»ºç«‹å‹ç¼©æ¡£æ¡ˆ
  - `-x`ï¼šè§£å‹
  - `-t`ï¼šæŸ¥çœ‹å†…å®¹
  - `-r`ï¼šå‘å‹ç¼©å½’æ¡£æ–‡ä»¶æœ«å°¾è¿½åŠ æ–‡ä»¶
  - `-u`ï¼šæ›´æ–°åŸå‹ç¼©åŒ…ä¸­çš„æ–‡ä»¶

  > è¿™äº”ä¸ªæ˜¯ç‹¬ç«‹çš„å‘½ä»¤ï¼Œå‹ç¼©è§£å‹éƒ½è¦ç”¨åˆ°å…¶ä¸­ä¸€ä¸ªï¼Œå¯ä»¥å’Œåˆ«çš„å‘½ä»¤è¿ç”¨ä½†åªèƒ½ç”¨å…¶ä¸­ä¸€ä¸ªã€‚ä¸‹é¢çš„å‚æ•°æ˜¯æ ¹æ®éœ€è¦åœ¨å‹ç¼©æˆ–è§£å‹æ¡£æ¡ˆæ—¶å¯é€‰çš„ã€‚
  >

  - `-z`ï¼šæœ‰gzipå±æ€§çš„
  - `-j`ï¼šæœ‰bz2å±æ€§çš„
  - `-Z`ï¼šæœ‰compresså±æ€§çš„
  - `-v`ï¼šæ˜¾ç¤ºæ‰€æœ‰è¿‡ç¨‹
  - `-O`ï¼šå°†æ–‡ä»¶è§£å¼€åˆ°æ ‡å‡†è¾“å‡º

  > å‚æ•°-fæ˜¯å¿…é¡»çš„
  >

  - `-f`: ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œè¿™ä¸ªå‚æ•°æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œåé¢åªèƒ½æ¥æ¡£æ¡ˆåã€‚
- æ€»ç»“

  1. *.tar ç”¨ tar â€“xvf è§£å‹
  2. *.gz ç”¨ gzip -dæˆ–è€…gunzip è§£å‹
  3. .tar.gzå’Œ.tgz ç”¨ tar â€“xzf è§£å‹
  4. *.bz2 ç”¨ bzip2 -dæˆ–è€…ç”¨bunzip2 è§£å‹
  5. *.tar.bz2ç”¨tar â€“xjf è§£å‹
  6. *.Z ç”¨ uncompress è§£å‹
  7. *.tar.Z ç”¨tar â€“xZf è§£å‹
  8. *.rar ç”¨ unrar eè§£å‹
  9. *.zip ç”¨ unzip è§£å‹
- `tar -zcvf abc.tar.gz /test` å‹ç¼©
- `tar -zxvf abc.tar.gz` è§£å‹

#### vi & vim

- `vi xxx` or `vim xxx`
- è¾“å…¥i/a, é€€å‡ºESC, : or /, :wq, :q, :q!
- `set nu`å¼€å¯è¡Œå·ï¼Œ`set nonu` å…³é—­è¡Œå·
- `yy` or `5yy` å¤åˆ¶ï¼Œä»å…‰æ ‡å¼€å§‹å¤„
- `p` ç²˜è´´
- `dd` or `5dd` å‰ªåˆ‡ã€åˆ é™¤ä»å…‰æ ‡å¼€å§‹å¤„
- `x` åˆ é™¤æŒ‡å®šå­—ç¬¦
- `u`/ `ctrl+r` æ’¤é”€åŠ¨ä½œ/é‡åš
- `:%s/old/new/g`  å…¨æ–‡æ›¿æ¢å­—ç¬¦
- `:3,5s/old/new/g` æ›¿æ¢3-5è¡Œ
- åˆ‡æ¢å…¨æ–‡é¦–è¡Œ[gg]ï¼Œå…¨æ–‡æœ€æœ«è¡Œ[G]ï¼Œè°ƒè‡³å…·ä½“æŸè¡Œ[5gg]ã€‚
- è°ƒè‡³æŸè¡Œè¡Œé¦–[^]ï¼Œè°ƒè‡³æŸè¡Œæœ€å[$]
- ![img_6.png](img_6.png)

#### æ–‡ä»¶æƒé™

- ![img_5.png](img_5.png)

<table>
<tr>
<th colspan="4">ç¬¬ä¸€åˆ—</th>
<th rowspan="2">ç¬¬äºŒåˆ—</th>
<th rowspan="2">ç¬¬ä¸‰åˆ—</th>
<th rowspan="2">ç¬¬å››åˆ—</th>
<th rowspan="2">ç¬¬äº”åˆ—</th>
<th rowspan="2">ç¬¬å…­åˆ—</th>
<th rowspan="2">ç¬¬ä¸ƒåˆ—</th>
</tr>
<tr>
<td>ç¬¬ä¸€åˆ—</td>
<td>ç¬¬ä¸€ç»„3ä¸ª</td>
<td>ç¬¬äºŒç»„3ä¸ª</td>
<td>ç¬¬ä¸‰ç»„3ä¸ª</td>
</tr>
<tr>
<td align="center">- æ–‡ä»¶</td>
<td rowspan="5">æ‰€æœ‰è€…</td>
<td rowspan="5">æ‰€æœ‰è€…æ‰€åœ¨ç»„</td>
<td rowspan="5">å…¶ä»–ç»„ç”¨æˆ·</td>
<td rowspan="5">ç¡¬é“¾æ¥/å­ç›®å½•æ•°</td>
<td rowspan="5" colspan="2">ç”¨æˆ·ã€ç»„</td>
<td rowspan="5">æ–‡ä»¶å¤§å°ï¼Œç›®å½•é»˜è®¤4096</td>
<td rowspan="5">æœ€åä¿®æ”¹æ—¶é—´</td>
<td rowspan="5">æ–‡ä»¶å</td>
</tr>
<tr>
<td align="center">d ç›®å½•</td>
</tr>
<tr>
<td align="center">l è½¯è¿æ¥</td>
</tr>
<tr>
<td align="center">c è®¾å¤‡</td>
</tr>
<tr>
<td align="center">b å—æ–‡ä»¶</td>
</tr>
</table>

- r(Readï¼Œè¯»å–ï¼Œæƒé™å€¼ä¸º4)ï¼šå¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰è¯»å–æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹ç›®å½•æ¥è¯´ï¼Œå…·æœ‰æµè§ˆç›®å½•çš„æƒé™ã€‚
- w(Write,å†™å…¥ï¼Œæƒé™å€¼ä¸º2)ï¼šå¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰æ–°å¢ã€ä¿®æ”¹æ–‡ä»¶å†…å®¹çš„æƒé™ï¼›å¯¹ç›®å½•æ¥è¯´ï¼Œå…·æœ‰åˆ é™¤ã€ç§»åŠ¨ç›®å½•å†…æ–‡ä»¶çš„æƒé™ã€‚
- x(eXecuteï¼Œæ‰§è¡Œï¼Œæƒé™å€¼ä¸º1)ï¼šå¯¹æ–‡ä»¶è€Œè¨€ï¼Œå…·æœ‰æ‰§è¡Œæ–‡ä»¶çš„æƒé™ï¼›å¯¹ç›®å½•äº†æ¥è¯´è¯¥ç”¨æˆ·å…·æœ‰è¿›å…¥ç›®å½•çš„æƒé™ã€‚
- å¯¹äºæ–‡ä»¶ï¼šræ˜¯è¯»ï¼Œ wæ˜¯å†™ï¼Œ xæ˜¯æ‰§è¡Œ
- å¯¹äºç›®å½•ï¼šxæ˜¯è¿›å…¥ç›®å½•ï¼Œ rxè¿›å…¥ç›®å½•åŒæ—¶æŸ¥çœ‹æ–‡ä»¶ï¼Œwxå¯ä¿®æ”¹ç›®å½•å†…çš„æ–‡ä»¶å
- ä¿®æ”¹æƒé™
  - `chmod [who] [+|â€“|=] [mode] æ–‡ä»¶å`
  > whoğŸ‘€ï¸
  - `u` è¡¨ç¤ºâ€œç”¨æˆ·ï¼ˆuserï¼‰â€ï¼Œå³æ–‡ä»¶æˆ–ç›®å½•çš„æ‰€æœ‰è€…ã€‚
  - `g` è¡¨ç¤ºâ€œåŒç»„ï¼ˆgroupï¼‰ç”¨æˆ·â€ï¼Œå³ä¸æ–‡ä»¶å±ä¸»æœ‰ç›¸åŒç»„IDçš„æ‰€æœ‰ç”¨æˆ·ã€‚
  - `o` è¡¨ç¤ºâ€œå…¶ä»–ï¼ˆothersï¼‰ç”¨æˆ·â€ã€‚
  - `a` è¡¨ç¤ºâ€œæ‰€æœ‰ï¼ˆallï¼‰ç”¨æˆ·â€ã€‚å®ƒæ˜¯ç³»ç»Ÿé»˜è®¤å€¼ã€‚
  >æ“ä½œç¬¦ï¸ğŸ‘€ï¸
  - `+` æ·»åŠ æŸä¸ªæƒé™ã€‚
  - `â€“` å–æ¶ˆæŸä¸ªæƒé™ã€‚
  - `=` èµ‹äºˆç»™å®šæƒé™å¹¶å–æ¶ˆå…¶ä»–æ‰€æœ‰æƒé™ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚
  > modeè®¾ç½®è¡¨ç¤ºçš„æƒé™å¯ç”¨ä¸‹è¿°å­—æ¯çš„ä»»æ„ç»„åˆï¸ğŸ‘€
  - `r` å¯è¯»ã€‚
  - `w` å¯å†™ã€‚
  - `x` å¯æ‰§è¡Œã€‚
  - `X` åªæœ‰ç›®æ ‡æ–‡ä»¶å¯¹æŸäº›ç”¨æˆ·æ˜¯å¯æ‰§è¡Œçš„æˆ–è¯¥ç›®æ ‡æ–‡ä»¶æ˜¯ç›®å½•æ—¶æ‰è¿½åŠ x å±æ€§ã€‚
  - `s` åœ¨æ–‡ä»¶æ‰§è¡Œæ—¶æŠŠè¿›ç¨‹çš„å±ä¸»æˆ–ç»„IDç½®ä¸ºè¯¥æ–‡ä»¶çš„æ–‡ä»¶å±ä¸»ã€‚æ–¹å¼â€œuï¼‹sâ€è®¾ç½®æ–‡ä»¶çš„ç”¨æˆ·IDä½ï¼Œâ€œgï¼‹sâ€è®¾ç½®ç»„IDä½ã€‚
  - `t` ä¿å­˜ç¨‹åºçš„æ–‡æœ¬åˆ°äº¤æ¢è®¾å¤‡ä¸Šã€‚
  - `u` ä¸æ–‡ä»¶å±ä¸»æ‹¥æœ‰ä¸€æ ·çš„æƒé™ã€‚
  - `g` ä¸å’Œæ–‡ä»¶å±ä¸»åŒç»„çš„ç”¨æˆ·æ‹¥æœ‰ä¸€æ ·çš„æƒé™ã€‚
  - `o` ä¸å…¶ä»–ç”¨æˆ·æ‹¥æœ‰ä¸€æ ·çš„æƒé™ã€‚
- æŸ¥çœ‹æƒé™ä¿¡æ¯
  - `getfacl filename`
  - `setfacl -m u:user1:rw filename`
    - `-m`èµ‹äºˆï¼Œ `-x`æ”¶å›ï¼Œ `u`ç”¨æˆ·ï¼Œ`g`ç»„

#### ç½‘ç»œ
- `ifconfig`

#### è½¯ä»¶å®‰è£…

#### è¿›ç¨‹ç®¡ç†
- `ps -e, ps -ef, ps -eLf |more`æŸ¥çœ‹è¿›ç¨‹
- `top, top -p pid`åŠ¨æ€æŸ¥çœ‹è¿›ç¨‹
- `nohup tail -f a.log &`åå°è¿è¡Œç¨‹åºï¼Œæ‰“å°logåˆ°nohub.out
- `jobs `-> `fg 1` ä»åå°è°ƒåˆ°å‰å°
- `systemctl start|stop|restart|reload|enable|disable æœåŠ¡åç§°`
- `screen -ls` æ­£åœ¨è¿è¡Œçš„session
- `screen -r xxxx` sessionæ¢å¤

#### å†…å­˜ä½¿ç”¨ç‡ï¼Œç£ç›˜ä½¿ç”¨ç‡
- `free, free -m` æŸ¥çœ‹å†…å­˜ä½¿ç”¨ç‡ 
- `top`
- `df -h` æŸ¥çœ‹ä½¿ç”¨æƒ…å†µ
- `du -h xxx` æŸ¥çœ‹å¤§å°

#### å¸®åŠ©å‘½ä»¤
- `man top`
- `info top`

#### Shell
- `#! /bin/bash` æ³¨é‡Š
- `chmod a+rw filename` å¯æ‰§è¡Œæƒé™
- `bash ./filename.sh` or `./filename.sh` å­çº¿ç¨‹ä¸­æ‰§è¡Œ
- `source ./filename.sh` or `. filename.sh` ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ

#### æ–‡ä»¶æŸ¥æ‰¾
- `stat` æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€
- `find` æŸ¥æ‰¾
- `grep`
- `sed`
- `awk`

#### é˜²ç«å¢™

#### ssh
- sshd_config
  - prot:22
  - PermitRootLogin:yes
  - AuthorizedKeysFile.ssh/authorized_keys
- systemctl status|start|stop|restart|enable|disable sshd.service
- `ssh-keygen -t rsa`
- `ssh-copy-id`
- `ssh [-p ] user@ip`
- `scp` ä¸Šä¼ æ–‡ä»¶
- å…å¯†ç™»å½•

#### crontab
- ä¸€æ¬¡æ€§crontab
  - å®‰è£…at
  - `at æ—¶é—´` eg: `at 15:15`
  - è¾“å…¥å†…å®¹
  - é€€å‡ºä¿å­˜
  - `atq`æŸ¥çœ‹
- å‘¨æœŸcrontab
  - `crontab -l` æŸ¥çœ‹
  - `crontab -e` é…ç½®crontab
  - cronè¡¨è¾¾å¼`åˆ† æ—¶ æ—¥ æœˆ æ˜ŸæœŸ`
